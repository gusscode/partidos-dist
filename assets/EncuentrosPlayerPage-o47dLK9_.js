import{u as A}from"./app.service-DUlmOL4n.js";import{d as U,s as H,f as l,c as p,a as o,b as r,t as V,m as g,j as I,h as D,w as h,v as K,g as z,p as S,F as k,n as F,e as b,i as $,x as Q,y as W,T as X,o as Y,k as Z,r as ee,q as T}from"./index-BCnBxEc0.js";import{u as G,_ as L,a as oe,A as te,b as ae}from"./PronosticoPlayer.vue_vue_type_style_index_0_scoped_838b29c2_lang-CtyDsZ8v.js";import{_ as E,D as P,a as se}from"./IconsPlus.vue_vue_type_script_setup_true_lang-YtfrLWit.js";import{_ as J}from"./InputApp.vue_vue_type_script_setup_true_lang-D3q30xmT.js";import{_ as ne}from"./ToggleMain.vue_vue_type_script_setup_true_lang-DoPaON-_.js";const le={class:"p-3 flex items-center gap-0 text-xl"},M=U({__name:"InputGoles",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(x){const t=H(x,"modelValue");function v(){if(t.value!==void 0)return t.value++;t.value=0}function m(){if(t.value!==void 0)return t.value--;t.value=0}return(u,i)=>(l(),p("div",le,[o("button",{class:"rotate-180",onClick:m},[r(E,{name:"play-outline"})]),o("button",{onClick:v,class:"bg-slate-800 rounded-lg w-8 h-10 items-center flex justify-center"},V(t.value),1),o("button",{class:"",onClick:v},[r(E,{name:"play-outline"})])]))}}),ie={class:"bg-slate-800 p-5 rounded-lg"},ue={class:"grid h-80 overflow-y-auto"},de=["onClick"],re=["src"],N=U({__name:"SelectEquipo",props:{modelValue:{},buttonId:{}},emits:["update:modelValue"],setup(x,{emit:t}){const v=t,m=A(),u=g(""),i=I(()=>{const f=u.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return m.equipos.filter(_=>_.nombre.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().includes(f))});return(f,_)=>(l(),D(P,{persistent:"","button-class":"w-full","button-id":f.buttonId},{button:h(()=>[K(f.$slots,"default",{},()=>[r(E,{name:"settings"})])]),default:h(({closeDialog:C})=>[o("div",ie,[o("header",null,[r(J,{modelValue:u.value,"onUpdate:modelValue":_[0]||(_[0]=d=>u.value=d)},null,8,["modelValue"])]),o("section",ue,[(l(!0),p(k,null,z(i.value,d=>(l(),p("button",{key:d.id,class:"hover:outline hover:bg-cyan-700 hover:outline-orange-400/50 px-2 p-1 rounded-lg flex gap-10 justify-between",onClick:s=>[v("update:modelValue",d.id),C()]},[S(V(d.nombre)+" ",1),o("span",null,[o("img",{class:"w-6 h-6",src:d.bandera_img,alt:""},null,8,re)])],8,de))),128))]),_[1]||(_[1]=o("footer",null,null,-1))])]),_:3},8,["button-id"]))}}),pe={class:"bg-slate-600 p-3 rounded-lg border-cyan-300/50 border"},ce={class:"grid gap-2"},_e=["onClick"],me=`
px-3 hover:outline outline-none outline-offset-0 hover:outline-orange-400/50 hover:bg-cyan-700 duration-300
rounded-lg
`,fe=U({__name:"SelectCampeonato",emits:["update:modelValue"],setup(x,{emit:t}){g();const v=t,m=A();return(u,i)=>(l(),D(P,{"button-class":"bg-blue-600 w-full rounded-lg border border-cyan-200/50"},{button:h(()=>i[0]||(i[0]=[S(" campeonato ")])),default:h(({closeDialog:f})=>[o("div",pe,[i[1]||(i[1]=o("header",null,null,-1)),o("section",null,[o("div",ce,[(l(!0),p(k,null,z(b(m).campeonatos,_=>(l(),p("button",{key:_.id,class:F(me),onClick:C=>[v("update:modelValue",_.id),f()]},V(_.nombre),9,_e))),128))])]),i[2]||(i[2]=o("footer",{class:"grid"},null,-1))])]),_:1}))}}),ve={class:"bg-slate-600 p-3 rounded-lg border-cyan-300/50 border"},ge={class:"grid gap-2"},be=["onClick"],he=`
px-3 hover:outline outline-none outline-offset-0 hover:outline-orange-400/50 hover:bg-cyan-700 duration-300
rounded-lg
`,qe=U({__name:"SelectRegion",emits:["update:modelValue"],setup(x,{emit:t}){g();const v=t,m=A();return(u,i)=>(l(),D(P,{"button-class":"bg-blue-600 w-full rounded-lg border border-cyan-200/50"},{button:h(()=>i[0]||(i[0]=[S(" región ")])),default:h(({closeDialog:f})=>[o("div",ve,[i[1]||(i[1]=o("header",null,null,-1)),o("section",null,[o("div",ge,[(l(!0),p(k,null,z(b(m).regiones,_=>(l(),p("button",{key:_.id,class:F(he),onClick:C=>[v("update:modelValue",_.id),f()]},V(_.nombre),9,be))),128))])]),i[2]||(i[2]=o("footer",{class:"grid"},null,-1))])]),_:1}))}}),ye={class:"max-w-96 w-full bg-slate-600 p-5 px-8 rounded-lg"},$e={class:"flex justify-between"},Ve={class:"flex gap-3"},ke={class:"grid grid-cols-2 gap-10 text-center"},xe={class:"w-full grid"},Ce={key:0,class:"flex justify-center"},we={class:"w-full grid"},Se={key:0,class:"flex justify-center"},Ee={class:"grid gap-2 my-5"},ze={key:0},Ue={key:1},je={class:"flex w-full gap-3 items-center"},Ie={key:2},Fe={class:"bg-slate-700 rounded-lg p-5"},Pe={class:"grid"},Ae=["onClick"],De={class:"grid mt-3"},Re=["onClick"],Be=U({__name:"EncuentrosUpdate",props:{encuentro:{},noRegion:{type:Boolean},noCampeonato:{type:Boolean},fechas:{}},setup(x){const t=x,v=G(),m=g(t.encuentro.realizado),u=g(t.encuentro.equipo_local_id),i=g(t.encuentro.equipo_visitante_id),f=g(t.encuentro.campoenato_id),_=g(t.encuentro.region_id),C=g(t.encuentro.grupo_id),d=g(t.encuentro.fecha),s=g(t.encuentro.fecha_orden),e=g(t.encuentro.estadium),q=g(t.encuentro.equipo_local_goles),a=g(t.encuentro.equipo_visitante_goles);function j(){v.update(t.encuentro.id,{equipo_local_id:u.value,equipo_visitante_id:i.value,campoenato_id:f.value,region_id:_.value,grupo_id:C.value,estadium:e.value,fecha:d.value,fecha_orden:s.value,equipo_local_goles:q.value,equipo_visitante_goles:a.value,realizado:m.value})}function y(w,n){d.value=w,s.value=n}return(w,n)=>(l(),D(P,{persistent:""},{button:h(()=>[r(E,{name:"settings"})]),default:h(({closeDialog:R})=>[o("div",ye,[o("div",$e,[o("div",Ve,[n[10]||(n[10]=o("label",{for:"realizado"},"Realizado",-1)),r(ne,{id:"realizado",modelValue:m.value,"onUpdate:modelValue":n[0]||(n[0]=c=>m.value=c)},null,8,["modelValue"])]),o("button",{onClick:n[1]||(n[1]=c=>b(v).delete(t.encuentro.id))},[r(E,{name:"delete"})])]),o("header",ke,[o("div",xe,[n[11]||(n[11]=o("label",{for:"equipo_local",class:"text-cyan-200"},"Local",-1)),r(N,{"button-id":"equipo_local",modelValue:u.value,"onUpdate:modelValue":n[2]||(n[2]=c=>u.value=c)},{default:h(()=>[o("div",{class:F([u.value===""?"border-2 border-blue-200/50":"","min-h-20 w-full rounded-lg"])},[r(L,{equipo_id:u.value},null,8,["equipo_id"])],2)]),_:1},8,["modelValue"]),m.value?(l(),p("div",Ce,[r(M,{modelValue:q.value,"onUpdate:modelValue":n[3]||(n[3]=c=>q.value=c)},null,8,["modelValue"])])):$("",!0)]),o("div",we,[n[12]||(n[12]=o("label",{for:"equipo_visitante",class:"text-cyan-200"},"Visitante",-1)),r(N,{"button-id":"equipo_visitante",modelValue:i.value,"onUpdate:modelValue":n[4]||(n[4]=c=>i.value=c)},{default:h(()=>[o("div",{class:F([i.value===""||i.value===void 0?" border-2 border-blue-200/50 ":"","min-h-20 w-full rounded-lg"])},[r(L,{equipo_id:i.value},null,8,["equipo_id"])],2)]),_:1},8,["modelValue"]),m.value?(l(),p("div",Se,[r(M,{modelValue:a.value,"onUpdate:modelValue":n[5]||(n[5]=c=>a.value=c)},null,8,["modelValue"])])):$("",!0)])]),o("section",Ee,[w.noCampeonato?$("",!0):(l(),p("div",ze,[r(fe,{modelValue:f.value,"onUpdate:modelValue":n[6]||(n[6]=c=>f.value=c)},null,8,["modelValue"])])),w.noRegion?$("",!0):(l(),p("div",Ue,[r(qe,{modelValue:_.value,"onUpdate:modelValue":n[7]||(n[7]=c=>_.value=c)},null,8,["modelValue"])])),o("div",je,[n[13]||(n[13]=o("label",{for:"fecha"},"Fecha: ",-1)),r(J,{id:"fecha",class:"w-40",modelValue:d.value,"onUpdate:modelValue":n[8]||(n[8]=c=>d.value=c)},null,8,["modelValue"]),Q(o("input",{class:"w-10 rounded-lg pl-1 bg-slate-900 py-2",type:"number","onUpdate:modelValue":n[9]||(n[9]=c=>s.value=c)},null,512),[[W,s.value]])]),w.fechas?(l(),p("div",Ie,[r(P,{"button-class":"bg-green-700 rounded-lg"},{button:h(()=>n[14]||(n[14]=[S(" Asignar Fecha ")])),default:h(({closeDialog:c})=>[o("div",Fe,[o("section",Pe,[(l(!0),p(k,null,z(w.fechas,(B,O)=>(l(),p(k,{key:O},[B.fecha!==""?(l(),p("button",{key:0,class:"px-3 bg-slate-900 rounded-lg outline outline-1 outline-cyan-400/50",onClick:oo=>[y(B.fecha,B.fecha_orden),c()]},V(B.fecha),9,Ae)):$("",!0)],64))),128))])])]),_:2},1024)])):$("",!0)]),o("footer",De,[o("button",{class:"bg-cyan-600 rounded-lg",onClick:c=>[j(),R()]}," Actualizar ",8,Re)])])]),_:1}))}}),Te={class:"px-2"},Le={class:"flex items-center gap-2"},Me={class:"flex"},Ne={class:"flex gap-2 items-center"},Ge=["src"],Je={class:"px-2"},Oe={class:"px-2"},He=["data-content"],Ke={class:"flex gap-1"},Qe=U({__name:"TablaEquipos",props:{equipos_ids:{},encuentrosIn:{},campeonatoId:{},conUltimosPartidos:{type:Boolean}},setup(x){const t=A(),v=x;g(!0);const m=g(5),u=I(()=>t.campeonatos.find(d=>d.id===v.campeonatoId));g([]);const i=I(()=>{const d=[];return v.equipos_ids.forEach(s=>{var q;const e=t.equipos.find(a=>a.id===s);e&&(e.puntos=0,e.partidos_jugados=0,e.ultimos_partidos=[],(q=u.value)==null||q.sansiones.forEach(a=>{a.equipo_id===s&&(e.puntos-=a.puntos_descuento)}),v.encuentrosIn.forEach(a=>{var j,y,w,n,R,c;a.fecha_orden>=0&&(a.equipo_local_goles===a.equipo_visitante_goles&&a.realizado&&(a.equipo_local_id===e.id&&(e.puntos+=1,e.partidos_jugados++,(j=e.ultimos_partidos)==null||j.push({encuentro_id:a.id,valor:"empatado",fecha_orden:a.fecha_orden})),a.equipo_visitante_id===e.id&&(e.puntos+=1,e.partidos_jugados++,(y=e.ultimos_partidos)==null||y.push({encuentro_id:a.id,valor:"empatado",fecha_orden:a.fecha_orden}))),a.equipo_local_goles>a.equipo_visitante_goles&&a.realizado&&(a.equipo_local_id===e.id&&(e.puntos+=3,e.partidos_jugados++,(w=e.ultimos_partidos)==null||w.push({encuentro_id:a.id,valor:"ganado",fecha_orden:a.fecha_orden})),a.equipo_visitante_id===e.id&&(e.partidos_jugados++,(n=e.ultimos_partidos)==null||n.push({encuentro_id:a.id,valor:"perdido",fecha_orden:a.fecha_orden}))),a.equipo_visitante_goles>a.equipo_local_goles&&a.realizado&&(a.equipo_visitante_id===e.id&&(e.puntos+=3,e.partidos_jugados++,(R=e.ultimos_partidos)==null||R.push({encuentro_id:a.id,valor:"ganado",fecha_orden:a.fecha_orden})),a.equipo_local_id===e.id&&(e.partidos_jugados++,(c=e.ultimos_partidos)==null||c.push({encuentro_id:a.id,valor:"perdido",fecha_orden:a.fecha_orden}))))}),d.push(e))}),d.sort((s,e)=>e.puntos-s.puntos)});function f(d){var e;let s={tieneSansion:!1,puntosSansion:0};return(e=u.value)==null||e.sansiones.forEach(q=>{d.id===q.equipo_id&&(s.puntosSansion=q.puntos_descuento,s.tieneSansion=!0)}),s}function _(){var d;(d=u.value)!=null&&d.fecha_actual_orden&&m.value<u.value.fecha_actual_orden&&m.value++}function C(){var d;(d=u.value)!=null&&d.fecha_actual_orden&&m.value>0&&m.value--}return(d,s)=>(l(),p("div",null,[o("table",null,[o("thead",null,[s[1]||(s[1]=o("th",{class:"px-2"},"Equipo",-1)),s[2]||(s[2]=o("th",{class:"px-2"},"PJ",-1)),s[3]||(s[3]=o("th",{class:"px-2"},"Pts.",-1)),o("th",Te,[o("div",Le,[o("div",Me,[o("button",{onClick:C,class:"rotate-180"},[r(E,{name:"play-outline"})]),S(" "+V(m.value)+" ",1),o("button",{onClick:_,class:""},[r(E,{name:"play-outline"})])]),s[0]||(s[0]=S(" Últimos Partidos "))])])]),o("tbody",null,[r(X,{name:"list"},{default:h(()=>[(l(!0),p(k,null,z(i.value,e=>(l(),p("tr",{key:e.id},[o("td",null,[o("div",Ne,[o("img",{class:"w-4 h-4",src:e.bandera_img,alt:""},null,8,Ge),S(" "+V(e.nombre),1)])]),o("td",Je,V(e.partidos_jugados),1),o("td",Oe,[o("div",{class:F(f(e).tieneSansion?"puntos-equipo-sansion":""),"data-content":f(e).tieneSansion?"sansión -"+f(e).puntosSansion:""},V(e.puntos),11,He)]),o("td",null,[o("div",Ke,[r(oe,{"ultimos-partidos":e.ultimos_partidos},null,8,["ultimos-partidos"])])])]))),128))]),_:1})])])]))}}),We=se(Qe,[["__scopeId","data-v-61cfbf55"]]),Xe={class:"grid md:grid-cols-2 grid-cols-1"},Ye={class:"flex gap-3 items-center m-3 py-2 px-5 rounded-full bg-indigo-700"},Ze={class:"grid gap-2 py-4 p-2"},eo=["onClick"],uo=U({__name:"EncuentrosPlayerPage",setup(x){const t=Z(),v=A(),m=G();new te;const u=t.params.grupoId;console.log(u),Y(()=>{});const i=I(()=>v.encuentros.filter(s=>u?s.grupo_id===u:s.campoenato_id===t.params.campeonatoId&&s.region_id===t.params.regionId)),f=I(()=>{const s=[];return i.value.forEach(e=>{s.includes(e.equipo_local_id)||s.push(e.equipo_local_id),s.includes(e.equipo_visitante_id)||s.push(e.equipo_visitante_id)}),s}),_=I(()=>{const s=new Map;return i.value.forEach(e=>{s.has(e.fecha)||s.set(e.fecha,{fecha:e.fecha,fecha_orden:e.fecha_orden})}),Array.from(s.values())});function C(){m.create({equipo_local_id:"",equipo_visitante_id:"",estadium:"",fecha:"",campoenato_id:t.params.campeonatoId,region_id:t.params.regionId,realizado:!1,fecha_orden:0,equipo_local_goles:0,equipo_visitante_goles:0,grupo_id:u||"none"})}function d(s,e){m.create({equipo_local_id:"",equipo_visitante_id:"",estadium:"",fecha:s,campoenato_id:t.params.campeonatoId,region_id:t.params.regionId,grupo_id:u||"none",realizado:!1,fecha_orden:e,equipo_local_goles:0,equipo_visitante_goles:0})}return(s,e)=>{const q=ee("RouterLink");return l(),p("section",Xe,[o("div",null,[r(q,{to:b(u)?"/campeonato/"+b(t).params.campeonatoId+"/region/"+b(t).params.regionId+"/grupos/"+b(u)+"/encuentros/pronostico":"/campeonato/"+b(t).params.campeonatoId+"/region/"+b(t).params.regionId+"/encuentros/pronostico"},{default:h(()=>[o("button",Ye,[e[1]||(e[1]=S(" Crear Pronpóstico ")),r(E,{name:"soccer"})])]),_:1},8,["to"]),r(We,{"campeonato-id":b(t).params.campeonatoId,equipos_ids:f.value,"encuentros-in":i.value},null,8,["campeonato-id","equipos_ids","encuentros-in"])]),o("div",Ze,[(l(!0),p(k,null,z(_.value,(a,j)=>(l(),p(k,{key:j},[o("div",null,[S(V(a.fecha)+" ",1),b(T)?(l(),p("button",{key:0,onClick:y=>d(a.fecha,a.fecha_orden)},[r(E,{name:"add"})],8,eo)):$("",!0)]),(l(!0),p(k,null,z(i.value,y=>(l(),p(k,{key:y.id},[y.fecha===a.fecha?(l(),p("div",{key:0,class:F(["grid",b(T)?"grid-cols-[1fr,20px]":""])},[r(ae,{encuentro:y},null,8,["encuentro"]),b(T)?(l(),D(Be,{key:0,"no-campeonato":"","no-region":"",encuentro:y,fechas:_.value},null,8,["encuentro","fechas"])):$("",!0)],2)):$("",!0)],64))),128))],64))),128)),b(T)?(l(),p("button",{key:0,onClick:e[0]||(e[0]=a=>C())},"Agregar Encuentro")):$("",!0)])])}}});export{uo as default};
