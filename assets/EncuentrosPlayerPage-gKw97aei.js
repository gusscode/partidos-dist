var Y=Object.defineProperty;var Z=(_,e,i)=>e in _?Y(_,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):_[e]=i;var E=(_,e,i)=>Z(_,typeof e!="symbol"?e+"":e,i);import{u as j,a as B,g as G}from"./app.service-CImTAlKv.js";import{d as $,x as L,g as N,j as O,o as l,c as a,y as ee,v as oe,a as o,p as z,F as q,m as b,q as U,e as T,w as h,z as te,h as p,n as C,A as F,t as y,l as se,b as S,f as v,T as le,k as ae,s as ne,i as P}from"./index-CZ--LVNJ.js";import{D as M,_ as ie}from"./DialogMain-C9bsqLvT.js";import{_ as k}from"./IconsPlus.vue_vue_type_script_setup_true_lang-CoanRu1Y.js";const W=$({__name:"InputApp",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(_){const e=L(_,"modelValue");return(i,c)=>N((l(),a("input",{"onUpdate:modelValue":c[0]||(c[0]=d=>e.value=d),class:"text-white bg-slate-900 rounded-lg outline-offset-0 p-2 px-4 border-none outline-none focus:outline-2 focus:outline-orange-500/50",type:"text"},null,512)),[[O,e.value]])}}),ue=["id"],de=$({__name:"ToggleMain",props:ee(["id"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(_){const e=L(_,"modelValue"),i=_;return(c,d)=>(l(),a(q,null,[N(o("input",{id:i.id,type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=n=>e.value=n),class:"hidden"},null,8,ue),[[oe,e.value]]),o("button",{onClick:d[1]||(d[1]=n=>e.value=!e.value),class:"w-6 h-3 outline outline-1 outline-slate-900 bg-slate-300 rounded-full relative"},[o("div",{ref:"leverRef",class:z([e.value?"bg-green-400 left-3 scale-125 outline-green-700/75":"bg-orange-600 scale-90 left-0 outline-orange-700/75","absolute w-3 h-3 outline-1 outline rounded-full top-0 duration-300 select-none"])},null,2)])],64))}}),re={class:"bg-slate-800 p-5 rounded-lg"},ce={class:"grid"},pe=["onClick"],_e=["src"],I=$({__name:"SelectEquipo",props:{modelValue:{},buttonId:{}},emits:["update:modelValue"],setup(_,{emit:e}){const i=e,c=j(),d=b(""),n=U(()=>{const t=d.value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return c.equipos.filter(s=>s.nombre.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().includes(t))});return(t,s)=>(l(),T(M,{persistent:"","button-class":"w-full","button-id":t.buttonId},{button:h(()=>[te(t.$slots,"default",{},()=>[p(k,{name:"settings"})])]),default:h(({closeDialog:f})=>[o("div",re,[o("header",null,[p(W,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=r=>d.value=r)},null,8,["modelValue"])]),o("section",ce,[(l(!0),a(q,null,C(n.value,r=>(l(),a("button",{key:r.id,class:"hover:outline hover:bg-cyan-700 hover:outline-orange-400/50 px-2 p-1 rounded-lg flex gap-10 justify-between",onClick:g=>[i("update:modelValue",r.id),f()]},[F(y(r.nombre)+" ",1),o("span",null,[o("img",{class:"w-6 h-6",src:r.bandera_img,alt:""},null,8,_e)])],8,pe))),128))]),s[1]||(s[1]=o("footer",null,null,-1))])]),_:3},8,["button-id"]))}}),me={class:"flex justify-center"},ge=["src"],fe={class:"text-center"},R=$({__name:"VerEquipo",props:{equipo_id:{}},setup(_){const e=j(),i=U(()=>e.equipos.find(d=>d.id===c.equipo_id)),c=_;return(d,n)=>{var t,s;return l(),a("div",null,[o("section",me,[o("img",{src:(t=i.value)==null?void 0:t.bandera_img,alt:""},null,8,ge)]),o("footer",fe,y((s=i.value)==null?void 0:s.nombre),1)])}}});class ve{constructor(){E(this,"appStore");E(this,"ruta");E(this,"create",async e=>{(await B.POST(this.ruta,e)).status<400&&this.appStore.getData()});E(this,"update",async(e,i)=>{(await B.PUT(this.ruta+e,i)).status<400&&this.appStore.getData()});E(this,"delete",async e=>{if(!await G.confirm("¿Eliminar Encuentro?"))return G.cancelled();(await B.DELETE(this.ruta+e)).status<400&&this.appStore.getData()});this.appStore=j(),this.ruta="/encuentros/"}}const H=se("encuentros-store",()=>new ve),be={class:"bg-slate-600 p-3 rounded-lg border-cyan-300/50 border"},he={class:"grid gap-2"},qe=["onClick"],ye=`
px-3 hover:outline outline-none outline-offset-0 hover:outline-orange-400/50 hover:bg-cyan-700 duration-300
rounded-lg
`,Ve=$({__name:"SelectCampeonato",emits:["update:modelValue"],setup(_,{emit:e}){b();const i=e,c=j();return(d,n)=>(l(),T(M,{"button-class":"bg-blue-600 w-full rounded-lg border border-cyan-200/50"},{button:h(()=>n[0]||(n[0]=[F(" campeonato ")])),default:h(({closeDialog:t})=>[o("div",be,[n[1]||(n[1]=o("header",null,null,-1)),o("section",null,[o("div",he,[(l(!0),a(q,null,C(S(c).campeonatos,s=>(l(),a("button",{key:s.id,class:z(ye),onClick:f=>[i("update:modelValue",s.id),t()]},y(s.nombre),9,qe))),128))])]),n[2]||(n[2]=o("footer",{class:"grid"},null,-1))])]),_:1}))}}),$e={class:"bg-slate-600 p-3 rounded-lg border-cyan-300/50 border"},xe={class:"grid gap-2"},ke=["onClick"],we=`
px-3 hover:outline outline-none outline-offset-0 hover:outline-orange-400/50 hover:bg-cyan-700 duration-300
rounded-lg
`,Ce=$({__name:"SelectRegion",emits:["update:modelValue"],setup(_,{emit:e}){b();const i=e,c=j();return(d,n)=>(l(),T(M,{"button-class":"bg-blue-600 w-full rounded-lg border border-cyan-200/50"},{button:h(()=>n[0]||(n[0]=[F(" región ")])),default:h(({closeDialog:t})=>[o("div",$e,[n[1]||(n[1]=o("header",null,null,-1)),o("section",null,[o("div",xe,[(l(!0),a(q,null,C(S(c).regiones,s=>(l(),a("button",{key:s.id,class:z(we),onClick:f=>[i("update:modelValue",s.id),t()]},y(s.nombre),9,ke))),128))])]),n[2]||(n[2]=o("footer",{class:"grid"},null,-1))])]),_:1}))}}),Ee={class:"p-3 flex items-center gap-0 text-xl"},J=$({__name:"InputGoles",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(_){const e=L(_,"modelValue");function i(){if(e.value!==void 0)return e.value++;e.value=0}function c(){if(e.value!==void 0)return e.value--;e.value=0}return(d,n)=>(l(),a("div",Ee,[o("button",{class:"rotate-180",onClick:c},[p(k,{name:"play-outline"})]),o("button",{onClick:i,class:"bg-slate-800 rounded-lg w-8 h-10 items-center flex justify-center"},y(e.value),1),o("button",{class:"",onClick:i},[p(k,{name:"play-outline"})])]))}}),Se={class:"max-w-96 w-full bg-slate-600 p-5 px-8 rounded-lg"},ze={class:"flex justify-between"},je={class:"flex gap-3"},De={class:"grid grid-cols-2 gap-10 text-center"},Ue={class:"w-full grid"},Fe={key:0,class:"flex justify-center"},Me={class:"w-full grid"},Te={key:0,class:"flex justify-center"},Ae={class:"grid gap-2 my-5"},Pe={key:0},Re={key:1},Be={class:"flex w-full gap-3 items-center"},Le={key:2},Ne={class:"bg-slate-700 rounded-lg p-5"},Ge={class:"grid"},Ie=["onClick"],Je={class:"grid mt-3"},Oe=["onClick"],We=$({__name:"EncuentrosUpdate",props:{encuentro:{},noRegion:{type:Boolean},noCampeonato:{type:Boolean},fechas:{}},setup(_){const e=_,i=H(),c=b(e.encuentro.realizado),d=b(e.encuentro.equipo_local_id),n=b(e.encuentro.equipo_visitante_id),t=b(e.encuentro.campoenato_id),s=b(e.encuentro.region_id),f=b(e.encuentro.fecha),r=b(e.encuentro.fecha_orden),g=b(e.encuentro.estadium),V=b(e.encuentro.equipo_local_goles),w=b(e.encuentro.equipo_visitante_goles);function x(){i.update(e.encuentro.id,{equipo_local_id:d.value,equipo_visitante_id:n.value,campoenato_id:t.value,region_id:s.value,estadium:g.value,fecha:f.value,fecha_orden:r.value,equipo_local_goles:V.value,equipo_visitante_goles:w.value,realizado:c.value})}function K(D,u){f.value=D,r.value=u}return(D,u)=>(l(),T(M,{persistent:""},{button:h(()=>[p(k,{name:"settings"})]),default:h(({closeDialog:Q})=>[o("div",Se,[o("div",ze,[o("div",je,[u[10]||(u[10]=o("label",{for:"realizado"},"Realizado",-1)),p(de,{id:"realizado",modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=m=>c.value=m)},null,8,["modelValue"])]),o("button",{onClick:u[1]||(u[1]=m=>S(i).delete(e.encuentro.id))},[p(k,{name:"delete"})])]),o("header",De,[o("div",Ue,[u[11]||(u[11]=o("label",{for:"equipo_local",class:"text-cyan-200"},"Local",-1)),p(I,{"button-id":"equipo_local",modelValue:d.value,"onUpdate:modelValue":u[2]||(u[2]=m=>d.value=m)},{default:h(()=>[o("div",{class:z([d.value===""?"border-2 border-blue-200/50":"","min-h-20 w-full rounded-lg"])},[p(R,{equipo_id:d.value},null,8,["equipo_id"])],2)]),_:1},8,["modelValue"]),c.value?(l(),a("div",Fe,[p(J,{modelValue:V.value,"onUpdate:modelValue":u[3]||(u[3]=m=>V.value=m)},null,8,["modelValue"])])):v("",!0)]),o("div",Me,[u[12]||(u[12]=o("label",{for:"equipo_visitante",class:"text-cyan-200"},"Visitante",-1)),p(I,{"button-id":"equipo_visitante",modelValue:n.value,"onUpdate:modelValue":u[4]||(u[4]=m=>n.value=m)},{default:h(()=>[o("div",{class:z([n.value===""||n.value===void 0?" border-2 border-blue-200/50 ":"","min-h-20 w-full rounded-lg"])},[p(R,{equipo_id:n.value},null,8,["equipo_id"])],2)]),_:1},8,["modelValue"]),c.value?(l(),a("div",Te,[p(J,{modelValue:w.value,"onUpdate:modelValue":u[5]||(u[5]=m=>w.value=m)},null,8,["modelValue"])])):v("",!0)])]),o("section",Ae,[D.noCampeonato?v("",!0):(l(),a("div",Pe,[p(Ve,{modelValue:t.value,"onUpdate:modelValue":u[6]||(u[6]=m=>t.value=m)},null,8,["modelValue"])])),D.noRegion?v("",!0):(l(),a("div",Re,[p(Ce,{modelValue:s.value,"onUpdate:modelValue":u[7]||(u[7]=m=>s.value=m)},null,8,["modelValue"])])),o("div",Be,[u[13]||(u[13]=o("label",{for:"fecha"},"Fecha: ",-1)),p(W,{id:"fecha",class:"w-40",modelValue:f.value,"onUpdate:modelValue":u[8]||(u[8]=m=>f.value=m)},null,8,["modelValue"]),N(o("input",{class:"w-10 rounded-lg pl-1 bg-slate-900 py-2",type:"number","onUpdate:modelValue":u[9]||(u[9]=m=>r.value=m)},null,512),[[O,r.value]])]),D.fechas?(l(),a("div",Le,[p(M,{"button-class":"bg-green-700 rounded-lg"},{button:h(()=>u[14]||(u[14]=[F(" Asignar Fecha ")])),default:h(({closeDialog:m})=>[o("div",Ne,[o("section",Ge,[(l(!0),a(q,null,C(D.fechas,(A,X)=>(l(),a(q,{key:X},[A.fecha!==""?(l(),a("button",{key:0,class:"px-3 bg-slate-900 rounded-lg outline outline-1 outline-cyan-400/50",onClick:fo=>[K(A.fecha,A.fecha_orden),m()]},y(A.fecha),9,Ie)):v("",!0)],64))),128))])])]),_:2},1024)])):v("",!0)]),o("footer",Je,[o("button",{class:"bg-cyan-600 rounded-lg",onClick:m=>[x(),Q()]}," Actualizar ",8,Oe)])])]),_:1}))}}),He={class:"grid grid-cols-[1fr,50px,1fr] bg-cyan-700 rounded-lg p-2"},Ke={class:"flex justify-center"},Qe={class:"flex items-center gap-3 justify-center"},Xe={key:0,class:"text-5xl"},Ye={key:1,class:"text-5xl"},Ze={class:"flex justify-center"},eo=$({__name:"EncuentroPlayer",props:{encuentro:{}},setup(_){return(e,i)=>(l(),a("div",He,[o("div",Ke,[p(R,{equipo_id:e.encuentro.equipo_local_id},null,8,["equipo_id"])]),o("div",Qe,[e.encuentro.realizado?(l(),a("div",Xe,y(e.encuentro.equipo_local_goles),1)):v("",!0),o("div",{class:z(e.encuentro.realizado?"text-5xl":"")},y(e.encuentro.realizado?"-":"Empate"),3),e.encuentro.realizado?(l(),a("div",Ye,y(e.encuentro.equipo_visitante_goles),1)):v("",!0)]),o("div",Ze,[p(R,{equipo_id:e.encuentro.equipo_visitante_id},null,8,["equipo_id"])])]))}});class oo{constructor(){E(this,"divRef");this.divRef=b()}}const to={class:"flex gap-2 items-center"},so=["src"],lo={class:"px-2"},ao={class:"px-2"},no={class:"flex gap-1"},io={key:0,class:""},uo={key:1,class:"text-green-400"},ro={key:2,class:"text-orange-400"},co=$({__name:"TablaEquipos",props:{equipos_ids:{},encuentrosIn:{}},setup(_){const e=j(),i=_,c=U(()=>{const d=[];return i.equipos_ids.forEach(n=>{const t=e.equipos.find(s=>s.id===n);t&&(t.puntos=0,t.partidos_jugados=0,t.ultimos_partidos=[],i.encuentrosIn.forEach(s=>{var f,r,g,V,w,x;s.equipo_local_goles===s.equipo_visitante_goles&&s.realizado&&(s.equipo_local_id===t.id&&(t.puntos+=1,t.partidos_jugados++,(f=t.ultimos_partidos)==null||f.push("empatado")),s.equipo_visitante_id===t.id&&(t.puntos+=1,t.partidos_jugados++,(r=t.ultimos_partidos)==null||r.push("empatado"))),s.equipo_local_goles>s.equipo_visitante_goles&&s.realizado&&(s.equipo_local_id===t.id&&(t.puntos+=3,t.partidos_jugados++,(g=t.ultimos_partidos)==null||g.push("ganado")),s.equipo_visitante_id===t.id&&(t.partidos_jugados++,(V=t.ultimos_partidos)==null||V.push("perdido"))),s.equipo_visitante_goles>s.equipo_local_goles&&s.realizado&&(s.equipo_visitante_id===t.id&&(t.puntos+=3,t.partidos_jugados++,(w=t.ultimos_partidos)==null||w.push("ganado")),s.equipo_local_id===t.id&&(t.partidos_jugados++,(x=t.ultimos_partidos)==null||x.push("perdido")))}),d.push(t))}),d.sort((n,t)=>t.puntos-n.puntos)});return(d,n)=>(l(),a("div",null,[o("table",null,[n[0]||(n[0]=o("thead",null,[o("th",{class:"px-2"},"Equipo"),o("th",{class:"px-2"},"PJ"),o("th",{class:"px-2"},"Pts."),o("th",{class:"px-2"},"Últimos Partidos")],-1)),o("tbody",null,[p(le,{name:"list"},{default:h(()=>[(l(!0),a(q,null,C(c.value,t=>(l(),a("tr",{key:t.id},[o("td",null,[o("div",to,[o("img",{class:"w-4 h-4",src:t.bandera_img,alt:""},null,8,so),F(" "+y(t.nombre),1)])]),o("td",lo,y(t.partidos_jugados),1),o("td",ao,y(t.puntos),1),o("td",null,[o("div",no,[(l(!0),a(q,null,C(t.ultimos_partidos,(s,f)=>(l(),a(q,{key:f},[s==="empatado"?(l(),a("button",io,[p(k,{name:"Draw"})])):v("",!0),s==="ganado"?(l(),a("button",uo,[p(k,{name:"Win"})])):v("",!0),s==="perdido"?(l(),a("button",ro,[p(k,{name:"Loss"})])):v("",!0)],64))),128))])])]))),128))]),_:1})])])]))}}),po=ie(co,[["__scopeId","data-v-0c316577"]]),_o={class:"grid md:grid-cols-2 grid-cols-1"},mo={class:"grid gap-2 py-4 p-2"},go=["onClick"],Vo=$({__name:"EncuentrosPlayerPage",setup(_){const e=ne(),i=j(),c=H();new oo,ae(()=>{});const d=U(()=>i.encuentros.filter(r=>r.campoenato_id===e.params.campeonatoId&&r.region_id===e.params.regionId)),n=U(()=>{const r=[];return d.value.forEach(g=>{r.includes(g.equipo_local_id)||r.push(g.equipo_local_id),r.includes(g.equipo_visitante_id)||r.push(g.equipo_visitante_id)}),r}),t=U(()=>{const r=new Map;return d.value.forEach(g=>{r.has(g.fecha)||r.set(g.fecha,{fecha:g.fecha,fecha_orden:g.fecha_orden})}),Array.from(r.values())});function s(){c.create({equipo_local_id:"",equipo_visitante_id:"",estadium:"",fecha:"",campoenato_id:e.params.campeonatoId,region_id:e.params.regionId,realizado:!1,fecha_orden:0,equipo_local_goles:0,equipo_visitante_goles:0})}function f(r,g){c.create({equipo_local_id:"",equipo_visitante_id:"",estadium:"",fecha:r,campoenato_id:e.params.campeonatoId,region_id:e.params.regionId,realizado:!1,fecha_orden:g,equipo_local_goles:0,equipo_visitante_goles:0})}return(r,g)=>(l(),a("section",_o,[o("div",null,[p(po,{equipos_ids:n.value,"encuentros-in":d.value},null,8,["equipos_ids","encuentros-in"])]),o("div",mo,[(l(!0),a(q,null,C(t.value,(V,w)=>(l(),a(q,{key:w},[o("div",null,[F(y(V.fecha)+" ",1),S(P)?(l(),a("button",{key:0,onClick:x=>f(V.fecha,V.fecha_orden)},[p(k,{name:"add"})],8,go)):v("",!0)]),(l(!0),a(q,null,C(d.value,x=>(l(),a(q,{key:x.id},[x.fecha===V.fecha?(l(),a("div",{key:0,class:z(["grid",S(P)?"grid-cols-[1fr,20px]":""])},[p(eo,{encuentro:x},null,8,["encuentro"]),S(P)?(l(),T(We,{key:0,"no-campeonato":"","no-region":"",encuentro:x,fechas:t.value},null,8,["encuentro","fechas"])):v("",!0)],2)):v("",!0)],64))),128))],64))),128)),S(P)?(l(),a("button",{key:0,onClick:g[0]||(g[0]=V=>s())},"Agregar Encuentro")):v("",!0)])]))}});export{Vo as default};
